<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - AgriChain</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="analytics.css">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">ðŸŒ±</div>
                    <div class="logo-text">AgriChain</div>
                </div>
                <div class="user-menu">
                    <div class="user-info">
                        <div class="user-name">Rajesh Kumar</div>
                        <div class="user-role">Farmer</div>
                    </div>
                    <div class="avatar">RK</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="main-content">
            <div class="page-header">
                <h1 class="page-title">Harvest Analytics</h1>
                <div class="period-selector">
                    <button class="period-btn" data-period="week">Week</button>
                    <button class="period-btn active" data-period="month">Month</button>
                    <button class="period-btn" data-period="quarter">Quarter</button>
                    <button class="period-btn" data-period="year">Year</button>
                </div>
            </div>

            <!-- Stats Overview -->
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-primary">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <div>
                            <div class="stat-title">Total Harvests</div>
                            <div class="stat-value">24</div>
                        </div>
                    </div>
                    <div class="stat-change change-positive">
                        <i class="fas fa-arrow-up"></i> 12% from last month
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-secondary">
                            <i class="fas fa-weight-hanging"></i>
                        </div>
                        <div>
                            <div class="stat-title">Total Weight</div>
                            <div class="stat-value">2,450 kg</div>
                        </div>
                    </div>
                    <div class="stat-change change-positive">
                        <i class="fas fa-arrow-up"></i> 8% from last month
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div>
                            <div class="stat-title">Verified</div>
                            <div class="stat-value">18</div>
                        </div>
                    </div>
                    <div class="stat-change change-positive">
                        <i class="fas fa-arrow-up"></i> 15% from last month
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-warning">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div>
                            <div class="stat-title">Avg. Yield</div>
                            <div class="stat-value">102 kg</div>
                        </div>
                    </div>
                    <div class="stat-change change-negative">
                        <i class="fas fa-arrow-down"></i> 5% from last month
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">Harvest Volume by Crop</h3>
                        <select class="period-btn">
                            <option>Last 7 days</option>
                            <option selected>Last 30 days</option>
                            <option>Last 90 days</option>
                            <option>Last year</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="cropVolumeChart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">Status Distribution</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Insights Section -->
            <div class="insights-section">
                <div class="insight-card">
                    <div class="insight-header">
                        <div class="insight-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h3 class="insight-title">Performance Insights</h3>
                    </div>
                    <ul class="insight-list">
                        <li class="insight-item">
                            <span class="insight-badge badge-success">High Yield</span>
                            <span>Wheat harvests are 15% above average</span>
                        </li>
                        <li class="insight-item">
                            <span class="insight-badge badge-warning">Attention</span>
                            <span>Potato yield decreased by 8% this month</span>
                        </li>
                        <li class="insight-item">
                            <span class="insight-badge badge-success">Good</span>
                            <span>Verification rate improved to 75%</span>
                        </li>
                        <li class="insight-item">
                            <span class="insight-badge badge-success">Optimal</span>
                            <span>Field A shows consistent high performance</span>
                        </li>
                    </ul>
                </div>

                <div class="insight-card">
                    <div class="insight-header">
                        <div class="insight-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3 class="insight-title">Recommendations</h3>
                    </div>
                    <ul class="insight-list">
                        <li class="insight-item">
                            <i class="fas fa-seedling" style="color: var(--primary);"></i>
                            <span>Consider expanding wheat cultivation in Field B</span>
                        </li>
                        <li class="insight-item">
                            <i class="fas fa-tint" style="color: var(--primary);"></i>
                            <span>Increase irrigation for potato crops in Field D</span>
                        </li>
                        <li class="insight-item">
                            <i class="fas fa-clock" style="color: var(--primary);"></i>
                            <span>Schedule rice harvest earlier to avoid rain</span>
                        </li>
                        <li class="insight-item">
                            <i class="fas fa-chart-line" style="color: var(--primary);"></i>
                            <span>Monitor corn growth more frequently</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="activity-section">
                <div class="chart-header">
                    <h3 class="chart-title">Recent Activity</h3>
                </div>
                <ul class="activity-list">
                    <li class="activity-item">
                        <div class="activity-icon icon-primary">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Wheat harvest logged</div>
                            <div class="activity-meta">Field A â€¢ 450 kg</div>
                        </div>
                        <div class="activity-time">2 hours ago</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon icon-success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Rice harvest verified</div>
                            <div class="activity-meta">Field B â€¢ 680 kg</div>
                        </div>
                        <div class="activity-time">1 day ago</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon icon-warning">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Potato harvest flagged</div>
                            <div class="activity-meta">Field D â€¢ 780 kg</div>
                        </div>
                        <div class="activity-time">2 days ago</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon icon-primary">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Corn harvest logged</div>
                            <div class="activity-meta">Field C â€¢ 320 kg</div>
                        </div>
                        <div class="activity-time">3 days ago</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation - Visible only on mobile -->
    <nav class="bottom-nav">
        <div class="nav-items-bottom">
            <a href="farmer-dashboard.html" class="nav-item-bottom">
                <i class="fas fa-seedling"></i>
                <span>Harvests</span>
            </a>
            <a href="log-harvest.html" class="nav-item-bottom">
                <i class="fas fa-plus-circle"></i>
                <span>Log</span>
            </a>
            <a href="analytics.html" class="nav-item-bottom active">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            <a href="#" class="nav-item-bottom">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </div>
    </nav>

    <script>
        // Initialize charts when the page loads
        document.addEventListener('DOMContentLoaded', function () {
            // Crop Volume Chart (Bar Chart)
            const cropVolumeCtx = document.getElementById('cropVolumeChart').getContext('2d');
            const cropVolumeChart = new Chart(cropVolumeCtx, {
                type: 'bar',
                data: {
                    labels: ['Wheat', 'Rice', 'Corn', 'Potatoes', 'Tomatoes'],
                    datasets: [{
                        label: 'Harvest Volume (kg)',
                        data: [1250, 680, 320, 780, 450],
                        backgroundColor: [
                            'rgba(46, 125, 50, 0.7)',
                            'rgba(76, 175, 80, 0.7)',
                            'rgba(255, 152, 0, 0.7)',
                            'rgba(121, 85, 72, 0.7)',
                            'rgba(244, 67, 54, 0.7)'
                        ],
                        borderColor: [
                            'rgba(46, 125, 50, 1)',
                            'rgba(76, 175, 80, 1)',
                            'rgba(255, 152, 0, 1)',
                            'rgba(121, 85, 72, 1)',
                            'rgba(244, 67, 54, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Weight (kg)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Status Distribution Chart (Doughnut Chart)
            const statusCtx = document.getElementById('statusChart').getContext('2d');
            const statusChart = new Chart(statusCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Verified', 'Pending', 'Flagged'],
                    datasets: [{
                        data: [18, 5, 1],
                        backgroundColor: [
                            'rgba(76, 175, 80, 0.7)',
                            'rgba(255, 152, 0, 0.7)',
                            'rgba(244, 67, 54, 0.7)'
                        ],
                        borderColor: [
                            'rgba(76, 175, 80, 1)',
                            'rgba(255, 152, 0, 1)',
                            'rgba(244, 67, 54, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Period selector functionality
            const periodButtons = document.querySelectorAll('.period-btn');
            periodButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Remove active class from all buttons
                    periodButtons.forEach(btn => btn.classList.remove('active'));

                    // Add active class to clicked button
                    this.classList.add('active');

                    // In a real app, this would update the charts with new data
                    const period = this.getAttribute('data-period');
                    console.log('Period changed to:', period);

                    // Simulate data update
                    updateCharts(period);
                });
            });

            // Function to update charts based on selected period
            function updateCharts(period) {
                // In a real app, this would fetch new data from an API
                // For this example, we'll just log the period
                console.log(`Updating charts for period: ${period}`);
            }

            // Set up bottom navigation active state
            document.querySelectorAll('.nav-item-bottom').forEach(item => {
                item.addEventListener('click', function () {
                    document.querySelectorAll('.nav-item-bottom').forEach(i => {
                        i.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>

</html>